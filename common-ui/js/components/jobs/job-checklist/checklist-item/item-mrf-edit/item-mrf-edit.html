<form class="modal modal-large modal-scroll-body" novalidate name="checklistItemMrfEditCtrl.mrfEditForm" data-ng-class="{'hidden' : !checklistItemMrfEditCtrl.showMrfEditModal}">
    <div class="modal-header flex-row">
        <div class="flex-item-static">
            <button class="btn btn-link" type="button" data-ng-click="checklistItemMrfEditCtrl.cancel()">Cancel</button>
        </div>

        <span class="modal-title flex-item-grow">Edit {{checklistItemMrfEditCtrl.title}}</span>

        <div class="flex-item-static">
            <button
                class="btn pull-right"
                data-ng-click="checklistItemMrfEditCtrl.save()"
                data-ng-disabled="checklistItemMrfEditCtrl.mrfEditForm.$invalid"
                type="submit">

                Save
            </button>
        </div>
    </div>

    <div class="modal-body-wrapper">
        <div class="modal-body">
            <div class="form-group col-xs-6"
                 data-ng-repeat="field in checklistItemMrfEditCtrl.mrfDigest track by $index">
                <div class="form-group"
                    data-ng-if="field.Locked && field.DataType.Type !== 'ENUM'">
                    <span class="control-label">{{checklistItemMrfEditCtrl.mrfDigest[$index].Name}}</span>
                    <p class="form-control-static">{{checklistItemMrfEditCtrl.editMrfData[field.Key]}}</p>
                </div>

                <div data-ng-if="!field.Locked || field.DataType.Type === 'ENUM'"
                     data-ng-switch on="field.DataType.Type">

                     <div ng-switch-when="Boolean">
                        <mrf-edit-field-boolean
                            key="{{field.Key}}"
                            label="{{checklistItemMrfEditCtrl.mrfDigest[$index].Name}}"
                            value="checklistItemMrfEditCtrl.editMrfData[field.Key]">
                        </mrf-edit-field-boolean>
                    </div>

                     <div ng-switch-when="ENUM">
                        <mrf-edit-field-enum
                            enum-name="{{field.DataType.Name}}"
                            key="{{field.Key}}"
                            label="{{checklistItemMrfEditCtrl.mrfDigest[$index].Name}}"
                            value="checklistItemMrfEditCtrl.editMrfData[field.Key]">
                        </mrf-edit-field-enum>
                    </div>

                     <div ng-switch-when="Decimal">
                        <mrf-edit-field-decimal
                            decimal-name="{{field.DataType.Name}}"
                            key="{{field.Key}}"
                            label="{{checklistItemMrfEditCtrl.mrfDigest[$index].Name}}"
                            ng-model="checklistItemMrfEditCtrl.mrfEditForm[field.Key]"
                            value="checklistItemMrfEditCtrl.editMrfData[field.Key]">
                        </mrf-edit-field-decimal>
                    </div>

                     <div ng-switch-when="Integer">
                        <mrf-edit-field-integer
                            integer-name="{{field.DataType.Name}}"
                            key="{{field.Key}}"
                            label="{{checklistItemMrfEditCtrl.mrfDigest[$index].Name}}"
                            ng-model="checklistItemMrfEditCtrl.mrfEditForm[field.Key]"
                            value="checklistItemMrfEditCtrl.editMrfData[field.Key]">
                        </mrf-edit-field-integer>
                    </div>

                     <div ng-switch-when="String">
                        <mrf-edit-field-string
                            string-name="{{field.DataType.Name}}"
                            key="{{field.Key}}"
                            label="{{checklistItemMrfEditCtrl.mrfDigest[$index].Name}}"
                            value="checklistItemMrfEditCtrl.editMrfData[field.Key]">
                        </mrf-edit-field-string>
                    </div>

                     <div ng-switch-default>
                        <label for="{{field.Key}}" class="control-label">{{checklistItemMrfEditCtrl.mrfDigest[$index].Name}}</label>
                        <input id="{{field.Key}}" class="form-control" type="text" data-ng-model="checklistItemMrfEditCtrl.editMrfData[field.Key]" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<div
    class="overlay overlay-modal"
    data-ng-class="{'hidden' : !checklistItemMrfEditCtrl.showMrfEditModal}">
</div>
